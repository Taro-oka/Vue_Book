(function(){"use strict";var t={2385:function(t,o,e){var s=e(144),r=e(998),n=e(2118),a=e(3059),i=function(){var t=this,o=t._self._c;return o(r.Z,[o("Header",{on:{"delete-local-storage":t.deleteLocalStorage}}),o(a.Z,[o(n.Z,[o("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo}})],1)],1),o("Footer")],1)},l=[],c=(e(7658),e(704)),u=e(8762),d=e(3687),m=function(){var t=this,o=t._self._c;return o("div",[o(c.Z,{attrs:{app:"",color:"primary",dark:""}},[o(d.Z),o(u.Z,{attrs:{color:"error"},on:{click:t.deleteLocalStorage}},[t._v(" 削除 ")])],1)],1)},f=[],p={name:"Header",methods:{deleteLocalStorage(){this.$emit("delete-local-storage")}}},h=p,k=e(1001),v=(0,k.Z)(h,m,f,!1,null,null,null),Z=v.exports,b=function(){var t=this,o=t._self._c;return o("div",[t._v("フッター")])},_=[],g={},y=g,w=(0,k.Z)(y,b,_,!1,null,null,null),x=w.exports;const B="books";var S={name:"App",components:{Header:Z,Footer:x},data:()=>({books:[],newBook:null}),mounted(){if(localStorage.getItem(B))try{this.books=JSON.parse(localStorage.getItem(B))}catch(t){localStorage.removeItem(B)}},methods:{addBook(t){t&&(this.books.push({id:this.books.length,title:t.title,image:t.image,description:t.description,readDate:"",memo:""}),this.saveBooks(),this.goToEditPage(this.books.slice(-1)[0].id))},removeBook(t){this.books.splice(t,1),this.saveBooks()},saveBooks(){const t=JSON.stringify(this.books);localStorage.setItem(B,t)},updateBookInfo(t){const o={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,o),this.saveBooks(),this.$router.push("/")},goToEditPage(t){this.$router.push(`/edit/${t}`)},deleteLocalStorage(){const t="LocalStrageのデータを削除してもよろしいですか？";confirm(t)&&(localStorage.setItem(B,""),localStorage.removeItem(B),this.books=[],window.location.reload())}}},O=S,I=(0,k.Z)(O,i,l,!1,null,null,null),P=I.exports,$=e(8345),D=e(4145),E=e(4886),T=e(266),j=e(4324),L=e(5495),C=e(1713),R=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(T.Z,{attrs:{cols:"6"}},[o(u.Z,{attrs:{color:"primary",to:"/search"}},[t._v("検索する")])],1)],1),o(C.Z,t._l(t.books,(function(e){return o(T.Z,{key:e.id,attrs:{cols:"12",sm:"6"}},[o(D.Z,[o(C.Z,[o(T.Z,{attrs:{cols:"4"}},[o(L.Z,{attrs:{src:e.image}})],1),o(T.Z,{attrs:{cols:"8"}},[o(E.EB,[t._v(t._s(e.title))]),o("div",[t._v("読んだ日："+t._s(e.readDate))]),o("div",[t._v("感想："+t._s(e.memo))]),o(d.Z),o(E.h7,[o(u.Z,{attrs:{to:{name:"BookEdit",params:{id:e.id}},color:"indigo",fab:"",small:"",dark:""}},[o(j.Z,[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)})),1)],1)},A=[],M={data(){return{}},props:{books:Array}},F=M,H=(0,k.Z)(F,R,A,!1,null,null,null),U=H.exports,J=e(8088),N=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(T.Z,{attrs:{cols:"6"}},[o(J.Z,{attrs:{label:"本のタイトルを検索"},model:{value:t.keyword,callback:function(o){t.keyword=o},expression:"keyword"}})],1)],1),o(C.Z,[o(T.Z,{attrs:{cols:"3"}},[o(u.Z,{attrs:{color:"primary"},on:{click:function(o){return t.search(t.keyword)}}},[t._v("検索する")])],1),o(T.Z,{attrs:{cols:"3"}},[o(u.Z,{attrs:{color:"secondary",to:"/"}},[t._v("一覧に戻る")])],1)],1),o(C.Z,t._l(t.searchResults,(function(e,s){return o(T.Z,{key:s,attrs:{cols:"12",md:"6"}},[o(D.Z,{staticClass:"mx-auto"},[o(C.Z,[o(T.Z,{attrs:{cols:"4"}},[o(L.Z,{attrs:{src:e.image}})],1),o(T.Z,{attrs:{cols:"8"}},[o(E.EB,[t._v(t._s(e.title))]),t._v(" "+t._s(e.description)+" "),o(d.Z),o(E.h7,[o(u.Z,{attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(o){return t.addBookList(s)}}},[o(j.Z,{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1)],1)],1)],1)})),1)],1)},q=[],z=(e(6229),e(7330),e(2062),{name:"BookSearch",data(){return{keyword:"",searchResults:[]}},methods:{addBookList(t){this.$emit("add-book-list",this.searchResults[t])},async search(t){this.searchResults=[];const o="https://www.googleapis.com/books/v1/volumes?",e={q:`intitle: ${t}`,maxResult:40},s=new URLSearchParams(e),r=await fetch(o+s).then((t=>t.json()));for(let n of r.items){let t=n.volumeInfo.title,o=n.volumeInfo.imageLinks,e=n.volumeInfo.description;this.searchResults.push({title:t||"",image:o?o.thumbnail:"",description:e?e.slice(0,40):""})}}}}),G=z,K=(0,k.Z)(G,N,q,!1,null,null,null),Q=K.exports,V=e(8360),W=e(3850),X=e(2648),Y=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(T.Z,{attrs:{cols:"12"}},[o(D.Z,{staticClass:"mx-auto"},[o(C.Z,[o(T.Z,{attrs:{cols:"12",sm:"4"}},[o(L.Z,{attrs:{src:t.book.image}})],1),o(T.Z,{attrs:{cols:"12",sm:"8"}},[o(C.Z,[o(T.Z,{attrs:{cols:"12"}},[o(E.EB,[t._v(" タイトル： "+t._s(t.book.title)+" ")])],1),o(T.Z,{attrs:{cols:"6",sm:"4"}},[o("div",{staticClass:"sub_title"},[t._v("読んだ日：")]),o(W.Z,{attrs:{"colse-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:s}){return[o(J.Z,t._g(t._b({staticClass:"pl-2",attrs:{"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}},"v-text-field",s,!1),e))]}}]),model:{value:t.menu2,callback:function(o){t.menu2=o},expression:"menu2"}},[o(V.Z,{on:{input:function(o){t.menu2=!1}},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}})],1)],1),o(T.Z,{attrs:{cols:"12"}},[o("div",{staticClass:"sub_title"},[t._v("感想：")]),o(X.Z,{staticClass:"mx-2",model:{value:t.book.memo,callback:function(o){t.$set(t.book,"memo",o)},expression:"book.memo"}},[t._v(" "+t._s(t.book.memo)+" ")])],1),o(T.Z,{attrs:{cols:"12"}},[o(E.h7,[o(u.Z,{attrs:{color:"secondary",to:"/"}},[t._v(" 一覧に戻る ")]),o(u.Z,{attrs:{color:"info"},on:{click:t.updateBoolInfo}},[t._v(" 保存する ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},tt=[],ot={name:"BookEdit",props:{books:Array},data(){return{book:"",date:"",menu2:!1}},methods:{updateBoolInfo(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})}},beforeRouteEnter(t,o,e){e((t=>{t.$nextTick().then((()=>{t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}))}))}},et=ot,st=(0,k.Z)(et,Y,tt,!1,null,null,null),rt=st.exports,nt=function(){var t=this,o=t._self._c;return o(C.Z,[o(T.Z,{attrs:{cols:"12",sm:"6"}},[t._v("画像")]),o(T.Z,{attrs:{cols:"12",sm:"6"}},[o(C.Z,[o(T.Z,{attrs:{cols:"12"}},[t._v("タイトル")]),o(T.Z,{attrs:{cols:"12"}},[t._v("日付")]),o(T.Z,{attrs:{cols:"12"}},[t._v("感想")])],1)],1)],1)},at=[],it={data(){return{loading:!0,selection:[]}},computed:{isMdAndUp(){return this.$vuetify.breakpoint.mdAndUp}},methods:{reserve(){}}},lt=it,ct=(0,k.Z)(lt,nt,at,!1,null,null,null),ut=ct.exports;s.ZP.use($.ZP);const dt=[{path:"/",name:"BookIndex",component:U},{path:"/search",name:"BookSearch",component:Q},{path:"/edit/:id",name:"BookEdit",component:rt},{path:"/test",name:"BookTest",component:ut},{path:"*",redirect:"/"}],mt=new $.ZP({mode:"history",base:"",routes:dt});var ft=mt,pt=e(1705);s.ZP.use(pt.Z);var ht=new pt.Z({});s.ZP.config.productionTip=!1,new s.ZP({router:ft,vuetify:ht,render:t=>t(P)}).$mount("#app")}},o={};function e(s){var r=o[s];if(void 0!==r)return r.exports;var n=o[s]={exports:{}};return t[s].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(o,s,r,n){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||a>=n)&&Object.keys(e.O).every((function(t){return e.O[t](s[l])}))?s.splice(l--,1):(i=!1,n<a&&(a=n));if(i){t.splice(u--,1);var c=r();void 0!==c&&(o=c)}}return o}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,s){var r,n,a=s[0],i=s[1],l=s[2],c=0;if(a.some((function(o){return 0!==t[o]}))){for(r in i)e.o(i,r)&&(e.m[r]=i[r]);if(l)var u=l(e)}for(o&&o(s);c<a.length;c++)n=a[c],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(u)},s=self["webpackChunkbookapp"]=self["webpackChunkbookapp"]||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(2385)}));s=e.O(s)})();
//# sourceMappingURL=app.3d89b133.js.map